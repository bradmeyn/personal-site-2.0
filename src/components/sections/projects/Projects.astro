---
import Section from "../../shared/Section.astro";
import FeaturedProject from "./FeaturedProject.astro";
import Project from "./Project.astro";
import { projects } from "../../../data/projects";
---

<Section name="projects">
  <h2 class="animated--fade-in">Projects</h2>

  <div class="projects">
    <div class="projects__featured">
      {
        projects
          .filter((project) => project.featured)
          .map((project) => <FeaturedProject {project} />)
      }
    </div>

    <div class="projects__non-featured">
      {
        projects
          .filter((project) => !project.featured)
          .map((project) => <Project {project} />)
      }
    </div>

    <div class="more-projects animated--fade-in">
      <a
        class="project__link project__link--repo"
        target="_blank"
        href={"https://github.com/bradmeyn?tab=repositories"}
        ><span>View more</span>
        <i class="fas fa-arrow-right"></i></a
      >
    </div>
  </div>

  <style>
    h2 {
      text-align: center;
    }

    h2::after {
      content: "Projects";
      transform: translateX(-50%);
      left: calc(50% + 0.1rem);
    }

    h2::before {
      transform: translateX(-50%);
      left: 50%;
    }

    .projects {
      display: flex;
      flex-direction: column;
      gap: 4rem;
    }

    .projects__featured,
    .projects__non-featured {
      gap: 4rem;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
    }

    .more-projects {
      text-align: center;
      margin: 0 auto;
      margin-top: -2rem;
    }

    .project__link {
      border-radius: 50px;
      text-align: center;
      font-family: var(--font-primary);
      color: var(--primary-lightest);
      text-decoration: none;
      cursor: pointer;
      padding: 0.4rem 1rem;

      display: flex;
      align-items: center;
      flex-wrap: nowrap;
      font-size: var(--fs-md);
      font-weight: 500;
      gap: var(--sp-xs);
    }

    .fa-arrow-right {
      transition: all 0.3s ease;
      font-size: var(--fs-sm);
    }

    .project__link--repo {
      background-color: transparent;
      background-image: none;
    }

    @media (hover: hover) and (pointer: fine) {
      .project__link {
        transition: 0.5s;
      }

      .project__link:hover {
        background-position: right center;
      }

      .project__link:hover .fa-arrow-right {
        transform: translateX(3px);
        transform: rotate(-45deg);
        color: #fff;
      }

      .project__link--repo:hover span {
        color: #fff;
        box-shadow: inset 0 -2px 0 var(--secondary);
      }
    }
  </style>
</Section>
