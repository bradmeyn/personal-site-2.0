---
import Post from "@/components/post-card.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("posts");
---

<section
  class="animate-fade-up opacity-0 [animation-delay:2.4s] [animation-fill-mode:forwards]"
>
  <h2 class="heading--secondary">Posts</h2>

  <div class="space-y-8">
    {
      posts.map((post, index) => (
        <div
          class="animate-fade-up opacity-0"
          style={`animation-delay: ${2.6 + index * 0.1}s; animation-fill-mode: forwards;`}
        >
          <Post post={post} />
        </div>
      ))
    }
  </div>
  <div
    class="pt-8 animate-fade-up opacity-0 [animation-delay:3s] [animation-fill-mode:forwards] text-center"
  >
    <a
      href="/posts"
      class="inline-flex mx-auto items-center gap-3 text-ui-400 hover:text-white transition-all duration-300 group border border-ui-700/50 hover:border-primary-700 rounded-full px-6 py-3"
    >
      <span class="font-medium">View all posts</span>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="18"
        height="18"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="transform group-hover:tranui-x-1 transition-all duration-300 group-hover:text-primary-700"
      >
        <path d="M5 12h14"></path>
        <path d="m12 5 7 7-7 7"></path>
      </svg>
    </a>
  </div>
</section>
